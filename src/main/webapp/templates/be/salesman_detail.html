<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
      xmlns:th="http://www.thymeleaf.org">

  <head th:include="be/fragment :: head">
    <meta charset="UTF-8">
    <script th:remove="all" src="../../static/assets/plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/thymol/thymol.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/hd-common/thymol.configuration.js"></script>
    <script th:remove="all" src="../../static/assets/bootstrap/js/bootstrap-multiselect.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/datepicker/bootstrap-datepicker.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/hd-common/common.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/formValidation/js/formValidation.min.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/formValidation/js/language/zh_CN.js"></script>
    <script th:remove="all" src="../../static/assets/plugins/formValidation/js/framework/bootstrap.min.js"></script>

</head>
<body class="skin-blue">
<div class="wrapper">

  <!-- Main Header -->
  <header class="main-header" th:include="be/fragment :: header"></header>

  <aside class="main-sidebar" th:include="be/fragment :: sidebar"></aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        销售人员基本信息
      </h1>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="box box-default">
        <div class="box-body">
          <div class="box box-solid" id="viewBasicInfo">
            <div class="box-header with-border">
              <h5 class="box-title">基本信息</h5>
              <div class="btn-group pull-right inline">
                    <span class="btn btn-default btn-xs" id="editBasicInfoBtn" type="button" title="编辑基本信息">
                      <i class="fa fa-edit"></i>
                    </span>
              </div>
            </div>
            <div class="box-body" th:object="${sellerDto}">
              <div class="row order-detail-base">
                <div class="col-md-6">
                  <table class="table no-border">
                    <tr>
                      <th>姓名</th>
                      <td th:text="*{fullName}">张三</td>
                    </tr>
                    <tr>
                      <th>手机号</th>
                      <td th:text="*{mobilePhone}">1310000101</td>
                    </tr>
                    <tr>
                      <th>邮箱</th>
                      <td th:text="*{email}">1@example.com</td>
                    </tr>
                    <tr>
                      <th>性别</th>
                      <td th:text="*{gender}">男</td>
                    </tr>
                    <tr>
                      <th>年龄</th>
                      <td th:text="*{age}">24</td>
                    </tr>
                    <tr>
                      <th>职务</th>
                      <td th:text="*{duty}">销售主管</td>
                    </tr>
                  </table>
                </div>
                <div class="col-md-6">
                  <table class="table no-border">
                    <tr>
                      <th>所属部门</th>
                      <td th:text="*{organizationName}">销售部</td>
                    </tr>
                    <tr>
                      <th>直接上级</th>
                      <td th:text="*{leaderName}">张小三</td>
                    </tr>
                    <tr>
                      <th>负责区域</th>
                      <td th:text="*{chargePlace}">华南地区</td>
                    </tr>
                    <tr>
                      <th>在职状态</th>
                      <td th:text="*{workStatus.desc}">在职</td>
                    </tr>
                    <tr>
                      <th>账户状态</th>
                      <td th:text="*{valid == true} ? '有效' : '无效' ">无效</td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <form class="form-horizontal" id="editBasicForm" action="#"
                th:action="@{/be/seller/edit}" th:object="${sellerDtoEdit}" method="post">
            <div class="box box-solid nondisplay" id="editBasicInfo">
              <div class="box-header with-border">
                <h5 class="box-title">基本信息</h5>
                <div class="btn-group pull-right inline">
                      <span class="btn btn-default btn-xs" id="resetBasicInfoEditBtn" type="button" title="取消编辑">
                        <i class="fa fa-undo" aria-hidden="true"></i>
                      </span>
                </div>
              </div>
              <div class="box-body">
                <div class="row order-detail-base">
                  <div class="col-md-6">
                    <input id="sellerId" name="sellerId" type="hidden" th:field="*{id}">
                    <div class="form-group">
                      <label for="fullName_edit" class="col-md-3 control-label font-normal">
                        <span class="text-necessary">*&nbsp;</span>姓名</label>
                      <div class="col-md-9">
                        <input class="form-control" id="fullName_edit" name="fullName" type="text" th:field="*{fullName}"
                               placeholder="姓名">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="mobilePhone_edit" class="col-md-3 control-label font-normal">
                        <span class="text-necessary">*&nbsp;</span>手机号</label>
                      <div class="col-md-9">
                        <input class="form-control" id="mobilePhone_edit" name="mobilePhone" type="text" th:field="*{mobilePhone}" placeholder="手机号"/>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="mobilePhone_edit" class="col-md-3 control-label font-normal">邮箱</label>
                      <div class="col-md-9">
                        <input class="form-control" id="email_edit" name="email" type="text" th:field="*{email}" placeholder="邮箱"/>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="gender_edit" class="col-md-3 control-label font-normal">性别</label>
                      <div class="col-md-9">
                        <input class="form-control" id="gender_edit" name="gender" type="text" th:field="*{gender}" placeholder="性别"/>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="age_edit" class="col-md-3 control-label font-normal">年龄</label>
                      <div class="col-md-9">
                        <input class="form-control" id="age_edit" name="age" type="text" th:field="*{age}" placeholder="年龄"/>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="duty_edit" class="col-md-3 control-label font-normal">职务</label>
                      <div class="col-md-9">
                        <input class="form-control" id="duty_edit" name="duty" type="text" th:field="*{duty}" placeholder="职务"/>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="department_edit" class="col-md-3 control-label font-normal">所属部门</label>
                      <div class="col-md-9">
                        <select class="form-control" id="department_edit" name="department" th:field="*{companyId}">
                          <option value="">请选择所属部门</option>
                          <option th:each="department : ${departmentList}"
                                  th:value="${department.id}"
                                  th:text="${department.name}">
                            部门名称
                          </option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="immediateSuperior_edit" class="col-md-3 control-label font-normal">直接上级</label>
                      <div class="col-md-9">
                        <select class="form-control selectpicker show-tick" id="immediateSuperior_edit" name="immediateSuperior" th:field="*{leaderId}"
                                data-live-search="true" data-th-attr="data-live-search= true">
                          <option value="">请选择直接上级</option>
                          <option th:each="leader : ${leaderList}"
                                  th:value="${leader.id}"
                                  th:text="${leader.fullName}">
                            上级姓名
                          </option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="territory_edit" class="col-md-3 control-label font-normal">负责区域</label>
                      <div class="col-md-9">
                        <input class="form-control" id="territory_edit" name="territory" type="text" th:field="*{chargePlace}" placeholder="负责区域"/>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="positionStatus_edit" class="col-md-3 control-label font-normal">在职状态</label>
                      <div class="col-md-9">
                        <select class="form-control" id="positionStatus_edit" name="positionStatus" th:field="*{workStatus}">
                          <option value="">请选择在职状态</option>
                          <option value="IN_SERVICE">在职</option>
                          <option value="LEAVE">离职</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="accountStatus_edit" class="col-md-3 control-label font-normal">账户状态</label>
                      <div class="col-md-9">
                        <select class="form-control" id="accountStatus_edit" name="accountStatus" th:field="*{valid}">
                          <option value="">请选择账户状态</option>
                          <option value="true">有效</option>
                          <option value="false">无效</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="box-footer">
                <input class="btn btn-primary center-block" type="submit" value="提交"/>
              </div>
            </div>
          </form>
          <form class="form-horizontal" id="editSalesForm" action="#"
                th:action="@{/be/seller/editTarget}" th:object="${thisYearSalesTarget}" method="post">
            <div class="box box-solid" id="viewSalesInfo">
              <input id="sellerId" name="sellerId" type="hidden" th:field="*{userId}">
              <input id="year" name="year" type="hidden" th:field="*{year}">
              <div class="box-header with-border">
                <h5 class="box-title">销售指标</h5>
              </div>
              <div class="box-body">
                <div class="row sale-detail-base">
                  <div class="col-md-8">
                    <table class="table no-border">
                      <tr>
                        <th></th>
                        <td>年份</td>
                        <td>指标</td>
                        <td>完成金额</td>
                        <td>达成率</td>
                        <td>应完成</td>
                      </tr>
                      <tr>
                        <th>当年指标</th>
                        <td th:text="${thisYearSalesTarget.year == null} ? '' : ${#dates.year(thisYearSalesTarget.year)}">2017</td>
                        <td>
                          <span id="salesIndex_view"
                                th:text="${thisYearSalesTarget.target == null || thisYearSalesTarget.target == 0} ? '' : ${thisYearSalesTarget.target}">
                            200万</span>
                          <input class="form-control nondisplay" id="salesIndex_edit" name="salesIndex" type="text" value="200万"
                                 th:field="${thisYearSalesTarget.target}"  placeholder="销售指标"/>
                        </td>
                        <td th:text="${thisYearSalesTarget.actual == null} ? '' : ${thisYearSalesTarget.actual}">50万</td>
                        <td th:text="${thisYearSalesTarget.acturalCompletionRate == null} ? '' : ${thisYearSalesTarget.acturalCompletionRate}">
                          25%</td>
                        <td
                            th:text="${thisYearSalesTarget.expectedCompletionRate == null} ? '' : ${thisYearSalesTarget.expectedCompletionRate}">20%</td>
                        <td>
                          <a class="btn btn-primary btn-xs" id="editSalesInfoBtn" href="javascript:;">修改指标</a>
                          <input class="btn btn-primary btn-xs nondisplay" id="confirmSalesInfoEditBtn" type="submit" value="确认"/>
                          <!--<a class="btn btn-primary btn-xs nondisplay" id="confirmSalesInfoEditBtn" href="javascript:;">确认</a>-->
                          <a class="btn btn-primary btn-xs nondisplay" id="resetSalesInfoEditBtn" href="javascript:;">取消</a>
                        </td>
                      </tr>
                      <tr>
                        <th></th>
                        <td colspan="3"><a id="moreInfoBtn" href="javascript:;">显示更多</a></td>
                      </tr>
                      <tr th:each="target : ${moreInfoSalesTarget}" class="moreInfo nondisplay">
                        <th>历年指标</th>
                        <td th:text="${target.year == null} ? '' : ${#calendars.year(target.year)}">2016</td>
                        <td th:text="${target.target == null || target.target == 0} ? '' : ${target.target}">150万</td>
                        <td th:text="${target.actual == null} ? '' : ${target.actual}">135万</td>
                        <td th:text="${target.acturalCompletionRate == null} ? '' : ${target.acturalCompletionRate}">90%</td>
                        <td th:text="${target.expectedCompletionRate == null} ? '' : ${target.expectedCompletionRate}">100%</td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
  </div><!-- /.content-wrapper -->

  <!-- Main Footer -->
  <footer class="main-footer" th:include="be/fragment :: footer"></footer>
    </div><!-- ./wrapper -->
  <script src="../../static/assets/js/salesman_detail.js" th:src="@{/assets/js/salesman_detail.js}"></script>
  </body>
</html>